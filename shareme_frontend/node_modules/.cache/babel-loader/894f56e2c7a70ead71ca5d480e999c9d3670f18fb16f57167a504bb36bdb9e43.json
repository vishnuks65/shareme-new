{"ast":null,"code":"import axios from 'axios';\nimport { jwtDecode } from 'jwt-decode';\nimport { client } from '../client';\nimport { useNavigate } from \"react-router-dom\";\nexport const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL;\nexport const createOrGetUser = response => {\n  var _s = $RefreshSig$();\n  const decoded = jwtDecode(response.credential);\n  const {\n    name,\n    picture,\n    sub\n  } = decoded;\n  const user = {\n    _id: sub,\n    _type: 'user',\n    userName: name,\n    image: picture\n  };\n  localStorage.setItem('user', JSON.stringify(decoded));\n  //  await axios.post(`http://localhost:3000/api/auth`,user)\n  _s(client.createIfNotExists(doc).then(_s(() => {\n    _s();\n    useNavigate('/', {\n      replace: true\n    });\n  }, \"7z+bV9xHBQ1A1bt6m/1oQLk0tZA=\", false, function () {\n    return [useNavigate];\n  })), \"7z+bV9xHBQ1A1bt6m/1oQLk0tZA=\", false, function () {\n    return [useNavigate];\n  });\n};","map":{"version":3,"names":["axios","jwtDecode","client","useNavigate","BASE_URL","process","env","NEXT_PUBLIC_BASE_URL","createOrGetUser","response","_s","$RefreshSig$","decoded","credential","name","picture","sub","user","_id","_type","userName","image","localStorage","setItem","JSON","stringify","createIfNotExists","doc","then","replace"],"sources":["D:/A Projects/shareme-new/shareme_frontend/src/utils/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport {jwtDecode} from 'jwt-decode';\r\nimport { client } from '../client';\r\nimport { useNavigate } from \"react-router-dom\";\r\nexport const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL;\r\n\r\nexport const createOrGetUser = (response) => {\r\n    const decoded = jwtDecode(response.credential);\r\n    const {name,picture,sub} = decoded;\r\n    const user = {\r\n        _id:sub,\r\n        _type:'user',\r\n        userName:name,\r\n        image:picture,\r\n    }\r\n    localStorage.setItem('user', JSON.stringify(decoded));\r\n//  await axios.post(`http://localhost:3000/api/auth`,user)\r\nclient.createIfNotExists(doc).then(()=>{\r\n    useNavigate('/',{replace:true})\r\n})\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,SAAS,QAAO,YAAY;AACpC,SAASC,MAAM,QAAQ,WAAW;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAExD,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACzC,MAAMC,OAAO,GAAGX,SAAS,CAACQ,QAAQ,CAACI,UAAU,CAAC;EAC9C,MAAM;IAACC,IAAI;IAACC,OAAO;IAACC;EAAG,CAAC,GAAGJ,OAAO;EAClC,MAAMK,IAAI,GAAG;IACTC,GAAG,EAACF,GAAG;IACPG,KAAK,EAAC,MAAM;IACZC,QAAQ,EAACN,IAAI;IACbO,KAAK,EAACN;EACV,CAAC;EACDO,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACb,OAAO,CAAC,CAAC;EACzD;EACAF,EAAA,CAAAR,MAAM,CAACwB,iBAAiB,CAACC,GAAG,CAAC,CAACC,IAAI,CAAAlB,EAAA,CAAC,MAAI;IAAAA,EAAA;IACnCP,WAAW,CAAC,GAAG,EAAC;MAAC0B,OAAO,EAAC;IAAI,CAAC,CAAC;EACnC,CAAC;IAAA,QADG1B,WAAW;EAAA,EACd,CAAC;IAAA,QADEA,WAAW;EAAA;AAEf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}