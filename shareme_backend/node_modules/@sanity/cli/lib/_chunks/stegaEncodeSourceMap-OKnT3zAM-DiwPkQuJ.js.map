{"version":3,"file":"stegaEncodeSourceMap-OKnT3zAM-DiwPkQuJ.js","sources":["../../../../../node_modules/@sanity/client/dist/_chunks/resolveEditInfo-uXvm6eWd.js","../../../../../node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-OKnT3zAM.js"],"sourcesContent":["const rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nconst reIndexTuple = /^\\d*:\\d*$/;\nfunction isIndexSegment(segment) {\n  return typeof segment === \"number\" || typeof segment === \"string\" && /^\\[\\d+\\]$/.test(segment);\n}\nfunction isKeySegment(segment) {\n  if (typeof segment === \"string\") {\n    return reKeySegment.test(segment.trim());\n  }\n  return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction isIndexTuple(segment) {\n  if (typeof segment === \"string\" && reIndexTuple.test(segment)) {\n    return true;\n  }\n  if (!Array.isArray(segment) || segment.length !== 2) {\n    return false;\n  }\n  const [from, to] = segment;\n  return (typeof from === \"number\" || from === \"\") && (typeof to === \"number\" || to === \"\");\n}\nfunction get(obj, path, defaultVal) {\n  const select = typeof path === \"string\" ? fromString(path) : path;\n  if (!Array.isArray(select)) {\n    throw new Error(\"Path must be an array or a string\");\n  }\n  let acc = obj;\n  for (let i = 0; i < select.length; i++) {\n    const segment = select[i];\n    if (isIndexSegment(segment)) {\n      if (!Array.isArray(acc)) {\n        return defaultVal;\n      }\n      acc = acc[segment];\n    }\n    if (isKeySegment(segment)) {\n      if (!Array.isArray(acc)) {\n        return defaultVal;\n      }\n      acc = acc.find((item) => item._key === segment._key);\n    }\n    if (typeof segment === \"string\") {\n      acc = typeof acc === \"object\" && acc !== null ? acc[segment] : void 0;\n    }\n    if (typeof acc === \"undefined\") {\n      return defaultVal;\n    }\n  }\n  return acc;\n}\nfunction toString(path) {\n  if (!Array.isArray(path)) {\n    throw new Error(\"Path is not an array\");\n  }\n  return path.reduce((target, segment, i) => {\n    const segmentType = typeof segment;\n    if (segmentType === \"number\") {\n      return \"\".concat(target, \"[\").concat(segment, \"]\");\n    }\n    if (segmentType === \"string\") {\n      const separator = i === 0 ? \"\" : \".\";\n      return \"\".concat(target).concat(separator).concat(segment);\n    }\n    if (isKeySegment(segment) && segment._key) {\n      return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n    }\n    if (Array.isArray(segment)) {\n      const [from, to] = segment;\n      return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n    }\n    throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n  }, \"\");\n}\nfunction fromString(path) {\n  if (typeof path !== \"string\") {\n    throw new Error(\"Path is not a string\");\n  }\n  const segments = path.match(rePropName);\n  if (!segments) {\n    throw new Error(\"Invalid path string\");\n  }\n  return segments.map(parsePathSegment);\n}\nfunction parsePathSegment(segment) {\n  if (isIndexSegment(segment)) {\n    return parseIndexSegment(segment);\n  }\n  if (isKeySegment(segment)) {\n    return parseKeySegment(segment);\n  }\n  if (isIndexTuple(segment)) {\n    return parseIndexTupleSegment(segment);\n  }\n  return segment;\n}\nfunction parseIndexSegment(segment) {\n  return Number(segment.replace(/[^\\d]/g, \"\"));\n}\nfunction parseKeySegment(segment) {\n  const segments = segment.match(reKeySegment);\n  return { _key: segments[1] };\n}\nfunction parseIndexTupleSegment(segment) {\n  const [from, to] = segment.split(\":\").map((seg) => seg === \"\" ? seg : Number(seg));\n  return [from, to];\n}\n\nvar studioPath = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  fromString: fromString,\n  get: get,\n  isIndexSegment: isIndexSegment,\n  isIndexTuple: isIndexTuple,\n  isKeySegment: isKeySegment,\n  reKeySegment: reKeySegment,\n  toString: toString\n});\n\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n  if (id.startsWith(DRAFTS_PREFIX)) {\n    return id.slice(DRAFTS_PREFIX.length);\n  }\n  return id;\n}\n\nconst ESCAPE = {\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"'\": \"\\\\'\",\n  \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n  \"\\\\f\": \"\\f\",\n  \"\\\\n\": \"\\n\",\n  \"\\\\r\": \"\\r\",\n  \"\\\\t\": \"\t\",\n  \"\\\\'\": \"'\",\n  \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n  return \"$\".concat(path.map((segment) => {\n    if (typeof segment === \"string\") {\n      const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match) => {\n        return ESCAPE[match];\n      });\n      return \"['\".concat(escapedKey, \"']\");\n    }\n    if (typeof segment === \"number\") {\n      return \"[\".concat(segment, \"]\");\n    }\n    if (segment._key !== \"\") {\n      const escapedKey = segment._key.replace(/['\\\\]/g, (match) => {\n        return ESCAPE[match];\n      });\n      return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n    }\n    return \"[\".concat(segment._index, \"]\");\n  }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n  const parsed = [];\n  const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n  let match;\n  while ((match = parseRe.exec(path)) !== null) {\n    if (match[1] !== void 0) {\n      const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m) => {\n        return UNESCAPE[m];\n      });\n      parsed.push(key);\n      continue;\n    }\n    if (match[2] !== void 0) {\n      parsed.push(parseInt(match[2], 10));\n      continue;\n    }\n    if (match[3] !== void 0) {\n      const _key = match[3].replace(/\\\\(\\\\')/g, (m) => {\n        return UNESCAPE[m];\n      });\n      parsed.push({\n        _key,\n        _index: -1\n      });\n      continue;\n    }\n  }\n  return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n  return path.map((segment) => {\n    if (typeof segment === \"string\") {\n      return segment;\n    }\n    if (typeof segment === \"number\") {\n      return segment;\n    }\n    if (segment._key !== \"\") {\n      return { _key: segment._key };\n    }\n    if (segment._index !== -1) {\n      return segment._index;\n    }\n    throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n  });\n}\nfunction studioPathToJsonPath(path) {\n  const parsedPath = typeof path === \"string\" ? fromString(path) : path;\n  return parsedPath.map((segment) => {\n    if (typeof segment === \"string\") {\n      return segment;\n    }\n    if (typeof segment === \"number\") {\n      return segment;\n    }\n    if (Array.isArray(segment)) {\n      throw new Error(\"IndexTuple segments aren't supported:\".concat(JSON.stringify(segment)));\n    }\n    if (isContentSourceMapParsedPathKeyedSegment(segment)) {\n      return segment;\n    }\n    if (segment._key) {\n      return { _key: segment._key, _index: -1 };\n    }\n    throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n  });\n}\nfunction isContentSourceMapParsedPathKeyedSegment(segment) {\n  return typeof segment === \"object\" && \"_key\" in segment && \"_index\" in segment;\n}\nfunction jsonPathToMappingPath(path) {\n  return path.map((segment) => {\n    if (typeof segment === \"string\") {\n      return segment;\n    }\n    if (typeof segment === \"number\") {\n      return segment;\n    }\n    if (segment._index !== -1) {\n      return segment._index;\n    }\n    throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n  });\n}\n\nfunction resolveMapping(resultPath, csm) {\n  if (!(csm == null ? void 0 : csm.mappings)) {\n    return void 0;\n  }\n  const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n  if (csm.mappings[resultMappingPath] !== void 0) {\n    return {\n      mapping: csm.mappings[resultMappingPath],\n      matchedPath: resultMappingPath,\n      pathSuffix: \"\"\n    };\n  }\n  const mappings = Object.entries(csm.mappings).filter(([key]) => resultMappingPath.startsWith(key)).sort(([key1], [key2]) => key2.length - key1.length);\n  if (mappings.length == 0) {\n    return void 0;\n  }\n  const [matchedPath, mapping] = mappings[0];\n  const pathSuffix = resultMappingPath.substring(matchedPath.length);\n  return { mapping, matchedPath, pathSuffix };\n}\n\nfunction isArray(value) {\n  return value !== null && Array.isArray(value);\n}\n\nfunction isRecord(value) {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction walkMap(value, mappingFn, path = []) {\n  if (isArray(value)) {\n    return value.map((v, idx) => {\n      if (isRecord(v)) {\n        const _key = v[\"_key\"];\n        if (typeof _key === \"string\") {\n          return walkMap(v, mappingFn, path.concat({ _key, _index: idx }));\n        }\n      }\n      return walkMap(v, mappingFn, path.concat(idx));\n    });\n  }\n  if (isRecord(value)) {\n    return Object.fromEntries(\n      Object.entries(value).map(([k, v]) => [k, walkMap(v, mappingFn, path.concat(k))])\n    );\n  }\n  return mappingFn(value, path);\n}\n\nfunction createEditUrl(options) {\n  const {\n    baseUrl,\n    workspace: _workspace = \"default\",\n    tool: _tool = \"default\",\n    id: _id,\n    type,\n    path\n  } = options;\n  if (!baseUrl) {\n    throw new Error(\"baseUrl is required\");\n  }\n  if (!path) {\n    throw new Error(\"path is required\");\n  }\n  if (!_id) {\n    throw new Error(\"id is required\");\n  }\n  if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n    throw new Error(\"baseUrl must not end with a slash\");\n  }\n  const workspace = _workspace === \"default\" ? void 0 : _workspace;\n  const tool = _tool === \"default\" ? void 0 : _tool;\n  const id = getPublishedId(_id);\n  const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n  const searchParams = new URLSearchParams({\n    baseUrl,\n    id,\n    type,\n    path: stringifiedPath\n  });\n  if (workspace) {\n    searchParams.set(\"workspace\", workspace);\n  }\n  if (tool) {\n    searchParams.set(\"tool\", tool);\n  }\n  const segments = [baseUrl === \"/\" ? \"\" : baseUrl];\n  if (workspace) {\n    segments.push(workspace);\n  }\n  const routerParams = [\n    \"mode=presentation\",\n    \"id=\".concat(id),\n    \"type=\".concat(type),\n    \"path=\".concat(encodeURIComponent(stringifiedPath))\n  ];\n  if (tool) {\n    routerParams.push(\"tool=\".concat(tool));\n  }\n  segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n  return segments.join(\"/\");\n}\n\nfunction resolveEditInfo(options) {\n  const { resultSourceMap: csm, resultPath } = options;\n  const { mapping, pathSuffix } = resolveMapping(resultPath, csm) || {};\n  if (!mapping) {\n    return void 0;\n  }\n  if (mapping.source.type === \"literal\") {\n    return void 0;\n  }\n  if (mapping.source.type === \"unknown\") {\n    return void 0;\n  }\n  const sourceDoc = csm.documents[mapping.source.document];\n  const sourcePath = csm.paths[mapping.source.path];\n  if (sourceDoc && sourcePath) {\n    const { baseUrl, workspace, tool } = resolveStudioBaseRoute(\n      typeof options.studioUrl === \"function\" ? options.studioUrl(sourceDoc) : options.studioUrl\n    );\n    if (!baseUrl)\n      return void 0;\n    const { _id, _type } = sourceDoc;\n    return {\n      baseUrl,\n      workspace,\n      tool,\n      id: _id,\n      type: _type,\n      path: parseJsonPath(sourcePath + pathSuffix)\n    };\n  }\n  return void 0;\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n  let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n  if (baseUrl !== \"/\") {\n    baseUrl = baseUrl.replace(/\\/$/, \"\");\n  }\n  if (typeof studioUrl === \"string\") {\n    return { baseUrl };\n  }\n  return { ...studioUrl, baseUrl };\n}\n\nexport { DRAFTS_PREFIX, createEditUrl, get, getPublishedId, jsonPath, jsonPathToStudioPath, parseJsonPath, reKeySegment, resolveEditInfo, resolveMapping, resolveStudioBaseRoute, studioPath, studioPathToJsonPath, toString, walkMap };\n//# sourceMappingURL=resolveEditInfo-uXvm6eWd.js.map\n","import { b } from './nodeMiddleware-OX5-R8Hk.js';\nimport { walkMap, resolveMapping, parseJsonPath, resolveStudioBaseRoute, createEditUrl, reKeySegment, toString, jsonPathToStudioPath } from './resolveEditInfo-uXvm6eWd.js';\n\nfunction encodeIntoResult(result, csm, encoder) {\n  return walkMap(result, (value, path) => {\n    if (typeof value !== \"string\") {\n      return value;\n    }\n    const resolveMappingResult = resolveMapping(path, csm);\n    if (!resolveMappingResult) {\n      return value;\n    }\n    const { mapping, matchedPath } = resolveMappingResult;\n    if (mapping.type !== \"value\") {\n      return value;\n    }\n    if (mapping.source.type !== \"documentValue\") {\n      return value;\n    }\n    const sourceDocument = csm.documents[mapping.source.document];\n    const sourcePath = csm.paths[mapping.source.path];\n    const matchPathSegments = parseJsonPath(matchedPath);\n    const sourcePathSegments = parseJsonPath(sourcePath);\n    const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n    return encoder({\n      sourcePath: fullSourceSegments,\n      sourceDocument,\n      resultPath: path,\n      value\n    });\n  });\n}\n\nconst filterDefault = ({ sourcePath, value }) => {\n  if (isValidDate(value) || isValidURL(value)) {\n    return false;\n  }\n  const endPath = sourcePath.at(-1);\n  if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n    return false;\n  }\n  if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n    return false;\n  }\n  if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n    return false;\n  }\n  if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n    return false;\n  }\n  if (endPath === \"style\" || endPath === \"listItem\") {\n    return false;\n  }\n  if (sourcePath.some(\n    (path) => path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\"\n  )) {\n    return false;\n  }\n  if (typeof endPath === \"string\" && denylist.has(endPath)) {\n    return false;\n  }\n  return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n  \"color\",\n  \"colour\",\n  \"currency\",\n  \"email\",\n  \"format\",\n  \"gid\",\n  \"hex\",\n  \"href\",\n  \"hsl\",\n  \"hsla\",\n  \"icon\",\n  \"id\",\n  \"index\",\n  \"key\",\n  \"language\",\n  \"layout\",\n  \"link\",\n  \"linkAction\",\n  \"locale\",\n  \"lqip\",\n  \"page\",\n  \"path\",\n  \"ref\",\n  \"rgb\",\n  \"rgba\",\n  \"route\",\n  \"secret\",\n  \"slug\",\n  \"status\",\n  \"tag\",\n  \"template\",\n  \"theme\",\n  \"type\",\n  \"unit\",\n  \"url\",\n  \"username\",\n  \"variant\",\n  \"website\"\n]);\nfunction isValidDate(dateString) {\n  return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n  try {\n    new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n  } catch {\n    return false;\n  }\n  return true;\n}\n\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n  const { filter, logger, enabled } = config;\n  if (!enabled) {\n    const msg = \"config.enabled must be true, don't call this function otherwise\";\n    (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), { result, resultSourceMap, config });\n    throw new TypeError(msg);\n  }\n  if (!resultSourceMap) {\n    (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n      result,\n      resultSourceMap,\n      config\n    });\n    return result;\n  }\n  if (!config.studioUrl) {\n    const msg = \"config.studioUrl must be defined\";\n    (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), { result, resultSourceMap, config });\n    throw new TypeError(msg);\n  }\n  const report = {\n    encoded: [],\n    skipped: []\n  };\n  const resultWithStega = encodeIntoResult(\n    result,\n    resultSourceMap,\n    ({ sourcePath, sourceDocument, resultPath, value }) => {\n      if ((typeof filter === \"function\" ? filter({ sourcePath, resultPath, filterDefault, sourceDocument, value }) : filterDefault({ sourcePath, resultPath, filterDefault, sourceDocument, value })) === false) {\n        if (logger) {\n          report.skipped.push({\n            path: prettyPathForLogging(sourcePath),\n            value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n            length: value.length\n          });\n        }\n        return value;\n      }\n      if (logger) {\n        report.encoded.push({\n          path: prettyPathForLogging(sourcePath),\n          value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n          length: value.length\n        });\n      }\n      const { baseUrl, workspace, tool } = resolveStudioBaseRoute(\n        typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl\n      );\n      if (!baseUrl)\n        return value;\n      const { _id: id, _type: type } = sourceDocument;\n      return b(\n        value,\n        {\n          origin: \"sanity.io\",\n          href: createEditUrl({\n            baseUrl,\n            workspace,\n            tool,\n            id,\n            type,\n            path: sourcePath\n          })\n        },\n        // We use custom logic to determine if we should skip encoding\n        false\n      );\n    }\n  );\n  if (logger) {\n    const isSkipping = report.skipped.length;\n    const isEncoding = report.encoded.length;\n    if (isSkipping || isEncoding) {\n      (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\n        \"[@sanity/client/stega]: Encoding source map into result\"\n      );\n      (_e = logger.log) == null ? void 0 : _e.call(\n        logger,\n        \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length)\n      );\n    }\n    if (report.encoded.length > 0) {\n      (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n      (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n    }\n    if (report.skipped.length > 0) {\n      const skipped = /* @__PURE__ */ new Set();\n      for (const { path } of report.skipped) {\n        skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n      }\n      (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [...skipped.values()]);\n    }\n    if (isSkipping || isEncoding) {\n      (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n    }\n  }\n  return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n  return toString(jsonPathToStudioPath(path));\n}\n\nvar stegaEncodeSourceMap$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  stegaEncodeSourceMap: stegaEncodeSourceMap\n});\n\nexport { encodeIntoResult, stegaEncodeSourceMap, stegaEncodeSourceMap$1 };\n//# sourceMappingURL=stegaEncodeSourceMap-OKnT3zAM.js.map\n"],"names":["reKeySegment","isKeySegment","segment","test","trim","toString","path","Array","isArray","Error","reduce","target","i","segmentType","concat","separator","_key","from","to","JSON","stringify","DRAFTS_PREFIX","getPublishedId","id","startsWith","slice","length","ESCAPE","UNESCAPE","jsonPath","map","escapedKey","replace","match","_index","join","parseJsonPath","parsed","parseRe","exec","key","m","push","parseInt","jsonPathToStudioPath","jsonPathToMappingPath","resolveMapping","resultPath","csm","mappings","resultMappingPath","mapping","matchedPath","pathSuffix","Object","entries","filter","_ref","sort","_ref2","_ref3","key1","key2","substring","value","isRecord","walkMap","mappingFn","arguments","undefined","v","idx","fromEntries","_ref4","k","createEditUrl","options","baseUrl","workspace","_workspace","tool","_tool","_id","type","endsWith","stringifiedPath","searchParams","URLSearchParams","set","segments","routerParams","encodeURIComponent","resolveStudioBaseRoute","studioUrl","encodeIntoResult","result","encoder","resolveMappingResult","source","sourceDocument","documents","document","sourcePath","paths","matchPathSegments","sourcePathSegments","fullSourceSegments","filterDefault","_ref5","isValidDate","isValidURL","endPath","at","some","denylist","has","Set","dateString","Boolean","Date","parse","url","URL","TRUNCATE_LENGTH","stegaEncodeSourceMap","resultSourceMap","config","_a","_b","_c","_d","_e","_f","_g","_h","_i","logger","enabled","msg","error","call","TypeError","report","encoded","skipped","resultWithStega","_ref6","prettyPathForLogging","_type","b","origin","href","isSkipping","isEncoding","groupCollapsed","log","table","add","values","groupEnd","stegaEncodeSourceMap$1","freeze","__proto__"],"mappings":"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","x_google_ignoreList":[0,1]}