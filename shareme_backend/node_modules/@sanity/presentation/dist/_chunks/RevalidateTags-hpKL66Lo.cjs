"use strict";var e=require("react"),t=require("sanity");exports.default=function(i){const{channel:n}=i,s=t.useClient({apiVersion:"2023-10-16"}),r=e.useMemo((()=>s.config()),[s]);return e.useEffect((()=>{if(n){const{projectId:e,dataset:i}=r,u=s.listen('*[!(_type in path("system.**"))]',{},{events:["mutation"],includePreviousRevision:!1,includeResult:!0,visibility:"query",tag:"presentation-loader"}).subscribe((s=>{var r,u,o;if("mutation"!==s.type||"disappear"===s.transition)return;const a=null==(r=s.result)?void 0:r._type;if(!a)return void console.warn("Type is missing, skipping revalidation",s);const l=(null==(o=null==(u=s.result)?void 0:u.slug)?void 0:o.current)?"".concat(a,":").concat(s.result.slug.current):void 0,c=[t.getPublishedId(s.documentId),a,l].filter(Boolean);n.send("loaders","loader/revalidate-tags",{projectId:e,dataset:i,tags:c})}));return()=>u.unsubscribe()}}),[n,s,r]),null};//# sourceMappingURL=RevalidateTags-hpKL66Lo.cjs.map
